{
  "code": "FEE_REVENUE_HISTORY",
  "name": "Fee Revenue Historical",
  "description": "Month-long billing fee reconciliation across finance systems.",
  "owner": "Finance Controls",
  "makerCheckerEnabled": true,
  "notes": "Provisioned by seed-historical script for stress testing.",
  "status": "PUBLISHED",
  "autoTriggerEnabled": false,
  "autoTriggerCron": null,
  "autoTriggerTimezone": null,
  "autoTriggerGraceMinutes": null,
  "version": null,
  "sources": [
    {
      "id": null,
      "code": "BILL30",
      "displayName": "Billing Engine",
      "adapterType": "CSV_FILE",
      "anchor": true,
      "description": "Invoices generated by client billing engine.",
      "connectionConfig": "s3://historical-seed/billing",
      "arrivalExpectation": "Daily by 04:45 UTC",
      "arrivalTimezone": "UTC",
      "arrivalSlaMinutes": 40,
      "adapterOptions": "{\"delimiter\":\",\"}"
    },
    {
      "id": null,
      "code": "REPORT30",
      "displayName": "Revenue Reporting",
      "adapterType": "CSV_FILE",
      "anchor": false,
      "description": "Revenue reporting system export.",
      "connectionConfig": "snowflake://historical/revenue",
      "arrivalExpectation": "Daily by 05:00 UTC",
      "arrivalTimezone": "UTC",
      "arrivalSlaMinutes": 50,
      "adapterOptions": "{\"delimiter\":\",\"}"
    }
  ],
  "canonicalFields": [
    { "id": null, "canonicalName": "transactionId", "displayName": "Invoice ID", "role": "KEY", "dataType": "STRING", "comparisonLogic": "EXACT_MATCH", "thresholdPercentage": null, "classifierTag": null, "formattingHint": null, "displayOrder": 1, "required": true,
      "mappings": [
        { "id": null, "sourceCode": "BILL30", "sourceColumn": "transactionId", "transformationExpression": null, "defaultValue": null, "ordinalPosition": 0, "required": true },
        { "id": null, "sourceCode": "REPORT30", "sourceColumn": "transactionId", "transformationExpression": null, "defaultValue": null, "ordinalPosition": 0, "required": true }
      ]
    },
    { "id": null, "canonicalName": "amount", "displayName": "Fee Amount", "role": "COMPARE", "dataType": "DECIMAL", "comparisonLogic": "NUMERIC_THRESHOLD", "thresholdPercentage": 0.5, "classifierTag": null, "formattingHint": null, "displayOrder": 2, "required": true,
      "mappings": [
        { "id": null, "sourceCode": "BILL30", "sourceColumn": "amount", "transformationExpression": null, "defaultValue": null, "ordinalPosition": 0, "required": true },
        { "id": null, "sourceCode": "REPORT30", "sourceColumn": "amount", "transformationExpression": null, "defaultValue": null, "ordinalPosition": 0, "required": true }
      ]
    },
    { "id": null, "canonicalName": "currency", "displayName": "Currency", "role": "COMPARE", "dataType": "STRING", "comparisonLogic": "CASE_INSENSITIVE", "thresholdPercentage": null, "classifierTag": null, "formattingHint": null, "displayOrder": 3, "required": true,
      "mappings": [
        { "id": null, "sourceCode": "BILL30", "sourceColumn": "currency", "transformationExpression": null, "defaultValue": null, "ordinalPosition": 0, "required": true },
        { "id": null, "sourceCode": "REPORT30", "sourceColumn": "currency", "transformationExpression": null, "defaultValue": null, "ordinalPosition": 0, "required": true }
      ]
    },
    { "id": null, "canonicalName": "tradeDate", "displayName": "Invoice Date", "role": "COMPARE", "dataType": "DATE", "comparisonLogic": "DATE_ONLY", "thresholdPercentage": null, "classifierTag": null, "formattingHint": null, "displayOrder": 4, "required": true,
      "mappings": [
        { "id": null, "sourceCode": "BILL30", "sourceColumn": "tradeDate", "transformationExpression": null, "defaultValue": null, "ordinalPosition": 0, "required": true },
        { "id": null, "sourceCode": "REPORT30", "sourceColumn": "tradeDate", "transformationExpression": null, "defaultValue": null, "ordinalPosition": 0, "required": true }
      ]
    },
    { "id": null, "canonicalName": "product", "displayName": "Product", "role": "PRODUCT", "dataType": "STRING", "comparisonLogic": "EXACT_MATCH", "thresholdPercentage": null, "classifierTag": "product", "formattingHint": null, "displayOrder": 5, "required": true,
      "mappings": [
        { "id": null, "sourceCode": "BILL30", "sourceColumn": "product", "transformationExpression": null, "defaultValue": null, "ordinalPosition": 0, "required": true },
        { "id": null, "sourceCode": "REPORT30", "sourceColumn": "product", "transformationExpression": null, "defaultValue": null, "ordinalPosition": 0, "required": true }
      ]
    },
    { "id": null, "canonicalName": "subProduct", "displayName": "Service Line", "role": "SUB_PRODUCT", "dataType": "STRING", "comparisonLogic": "EXACT_MATCH", "thresholdPercentage": null, "classifierTag": "subProduct", "formattingHint": null, "displayOrder": 6, "required": true,
      "mappings": [
        { "id": null, "sourceCode": "BILL30", "sourceColumn": "subProduct", "transformationExpression": null, "defaultValue": null, "ordinalPosition": 0, "required": true },
        { "id": null, "sourceCode": "REPORT30", "sourceColumn": "subProduct", "transformationExpression": null, "defaultValue": null, "ordinalPosition": 0, "required": true }
      ]
    },
    { "id": null, "canonicalName": "entityName", "displayName": "Entity", "role": "ENTITY", "dataType": "STRING", "comparisonLogic": "EXACT_MATCH", "thresholdPercentage": null, "classifierTag": "entity", "formattingHint": null, "displayOrder": 7, "required": true,
      "mappings": [
        { "id": null, "sourceCode": "BILL30", "sourceColumn": "entity", "transformationExpression": null, "defaultValue": null, "ordinalPosition": 0, "required": true },
        { "id": null, "sourceCode": "REPORT30", "sourceColumn": "entity", "transformationExpression": null, "defaultValue": null, "ordinalPosition": 0, "required": true }
      ]
    }
  ],
  "accessControlEntries": [
    { "id": null, "ldapGroupDn": "recon-makers", "role": "MAKER", "product": null, "subProduct": null, "entityName": null, "notifyOnPublish": false, "notifyOnIngestionFailure": false, "notificationChannel": null },
    { "id": null, "ldapGroupDn": "recon-checkers", "role": "CHECKER", "product": null, "subProduct": null, "entityName": null, "notifyOnPublish": false, "notifyOnIngestionFailure": false, "notificationChannel": null }
  ]
}
